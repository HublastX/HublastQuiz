<div class="container py-5" (click)="closeSelectors()">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="page-title">Seus Quizzes</h1>
    <button class="btn btn-outline-light" routerLink="/">Voltar</button>
  </div>

  <div class="row g-4">
    <div class="col-md-4" *ngFor="let quiz of quizzes; let i = index">
      <div class="quiz-card">
        <div class="theme-container">
          <span class="theme-label">Tema:</span>
          <div class="theme-name">{{ quiz.theme }}</div>
        </div>
        <div class="phase-container">
          <span class="phase-label">Fase:</span>
          <div class="phase-name phase-selector">
            <span>{{ quiz.phase }}</span>
            <div class="phase-dropdown">
              <button class="phase-toggle" title="Alterar fase" (click)="toggleSelector(i, $event)">
                <i class="fas fa-caret-down" [class.rotate]="openSelectorIndex === i"></i>
              </button>
              <div class="phase-options" [class.show]="openSelectorIndex === i" (click)="$event.stopPropagation()">
                <div *ngFor="let phase of availablePhases" 
                     class="phase-option"
                     [class.active]="phase === quiz.phase"
                     (click)="changePhase(quiz, phase)">
                  {{ phase }}
                </div>
              </div>
            </div>
          </div>
        </div>
        <button class="btn btn-play">Jogar</button>
      </div>
    </div>
  </div>
</div>
